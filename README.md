# Evaluating the Impact of Identity Framing on Reasoning in LLM-Based Multi-Agent Systems

Replication materials for my Master's Thesis, A.Y. 2024–2025.

---

## Overview

This repository contains the data and analysis code supporting a study on how identity framing, beyond mere role specialization, affects the behavior and performance of LLM-based multi-agent systems. The system under investigation is the **Pool-of-Experts (PoE)** framework, in which agents are assigned different levels of identity: from no identity (ND), to role-only (NP), to psychologically grounded identity descriptions.

---

## Research Questions

The study is organized around three hierarchical research questions:

**RQ1 — Structural Validation:** Does the Pool-of-Experts framework, based solely on role specialization, outperform standard single-agent baselines across diverse reasoning tasks?
- RQ1.1: Is the performance gain consistent across model architectures and task types?
- RQ1.2: How does the choice of aggregation strategy affect final accuracy?

**RQ2 — Identity Beyond Role Specialization:** Does assigning specific personas yield statistically significant performance improvements over ND and NP control conditions?
- RQ2.1: Does adding an explicit identity description improve reasoning beyond role-only specialization?
- RQ2.2: What is the performance trajectory when moving from ND → NP → theory-grounded psychological identities?
- RQ2.3: Is there a universal psychological framework that improves performance across all models and tasks?
- RQ2.4: Are the effects of psychological identity contingent on task domain or model architecture?

**RQ3 — Psychologist Agent Influence:** How does the Psychologist Agent shape expert profiles and influence system behavior?
- RQ3.1: Does the Psychologist Agent generate semantically distinct profiles across conditions?
- RQ3.2: What are the demographic characteristics of the generated profiles?
- RQ3.3: Do demographic characteristics of generated profiles correlate with task performance?

---

## Repository Structure

```
.
├── data/
│   ├── results_baseline.csv              # Single-agent baseline results
│   ├── results_fdm.csv                   # Full description model results
│   ├── results_majorities.csv            # Majority aggregation strategy results
│   ├── results_poe_commonsenseqa.csv     # PoE results — CommonsenseQA
│   ├── results_poe_socialqa.csv          # PoE results — SocialQA
│   ├── results_poe_socialsupport.csv     # PoE results — SocialSupport
│   ├── results_poe_strategyqa.csv        # PoE results — StrategyQA
│   └── agent_identities.csv              # Agent profiles generated by the Psychologist Agent
│
├── RQ1.ipynb                      # Structural validation analysis
├── RQ2.ipynb                      # Identity framing analysis (Python)
├── RQ2.R                          # Mixed-effects models (lme4) for RQ2
├── RQ3_1.ipynb                    # Agent profile semantic analysis (requires GPU, run on Colab)
├── RQ3_2.ipynb                    # Agent profile demographics analysis
├── requirements.txt
└── README.md
```

---

## Requirements

### Python

Jupyter Notebook or JupyterLab is required to run the `.ipynb` files. Install dependencies with:

```bash
pip install -r requirements.txt
```

Key libraries include `pandas`, `numpy`, `scipy`, `matplotlib`, `seaborn`, `statsmodels`, `plotly`, and `pycountry`.

> **Note:** `RQ3_1.ipynb` is designed to run on Google Colab and additionally requires `sentence-transformers` and `scikit-learn`, which are pre-installed in the Colab environment.

### R

RQ2 statistical modeling uses mixed-effects models via `lme4`. Install the required packages from within R:

```r
install.packages(c("lme4", "lmerTest", "emmeans", "car", "broom.mixed", "tidyverse"))
```

---

## Data

All data is contained in the `data/` folder:

| File | Description |
|---|---|
| `results_baseline.csv` | Results from standard single-agent runs |
| `results_fdm.csv` | Results from the full-description model condition |
| `results_majorities.csv` | Results using majority-vote aggregation |
| `results_poe_commonsenseqa.csv` | PoE results — CommonsenseQA |
| `results_poe_socialqa.csv` | PoE results — SocialQA |
| `results_poe_socialsupport.csv` | PoE results — SocialSupport |
| `results_poe_strategyqa.csv` | PoE results — StrategyQA |
| `agent_identities.csv` | Agent profiles generated by the Psychologist Agent across all conditions |

> **Note:** PoE results are split by dataset due to GitHub file size limits. They are concatenated at load time in the analysis notebooks.

<!-- ## License

This repository is shared for academic reproducibility purposes. Please contact the author before reusing data or code. -->
